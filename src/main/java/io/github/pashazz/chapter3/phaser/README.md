# The `Phaser` class is used for synchronize different phases of theads running concurrently

У нас есть потоки, которые выполняют составную работу
которая поделена на фазы.

Мы хотим, чтобы ни один из потоков не убегал очень далеко, то есть, чтобы они одновременно
были в одной фазе.

Например, в поисковике файлов имеются слеующие фазы:

1. Поиск файлов
2. Фильтрация файлов по расширению
3. Фильтрация файлов по дате последней модификации

Мы создаем много одинаковых потоков и не хотим, чтобы
фазы 2 или 3 у какого-нибудь потока начинались раньше других. Для этого используется `Phaser`

## Состояние Phaser
1. Active -Когда процесс пошел - регистрация открыта, методы могут перемещаться по фазам
2. Terminated - Когда все участники ушли. Тогда фwa


## Методы
* `onAdvance()` - сам `Phaser` вызывает его, когда осуществляется переход с одной фазы на другую.
  Переопределяется для своей логики. Смотри пример `phaseradvance`
* ``register()`` - добавление нового потока в пул (party)
* `isTerminated()` - возвращает true если в состоянии terminated


## Методы перехода на следующую фазу. Возвращают отрицательное число в случае терминированности
* ``arrive()`` - Завершить текущую фазу. Возвращает номер текущей фазы
* ``awaitAdvance(X)`` - Дождаться, пока фаза X закончится. Возвращает номер следующей фазы
* `arriveAndAwaitAdvance()` -> `awaitAdvance(arrive())`
* `arriveAndDeregister()` - завершить текущую фазу и выйти досрочно


  

* ``arriveAndAwaitAdvance()``  - индикация завершения фазы у потока
Он засыпает до тех пор, пока другие не закончат.
*  ``arriveAndDeregister()`` - индикация завершения фазы и окончания участия в Phaser (выход преждевременно)



   

## Example

## In this example we will search for files

1. Get a list of `*.log` files in the assigned folder
2. Filter the list for old files (modified)
3. Print the results

